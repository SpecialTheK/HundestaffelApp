import {Component, NgZone, ViewChild} from '@angular/core';
import {NavController, Platform} from 'ionic-angular';
import {StatusBar} from '@ionic-native/status-bar';
import {SplashScreen} from '@ionic-native/splash-screen';

import {Home} from '../pages/pages';
import {TranslateService} from "@ngx-translate/core";
import {AppPreferences} from "@ionic-native/app-preferences";
import {WebIntent} from "@ionic-native/web-intent";
import {TrailStorageProvider} from "../providers/trail-storage/trail-storage";
import {TrailSet} from "../models/trailSet";

// Needed outside of class as this has to be executed before the app is loaded
(window as any).handleOpenURL = (url: string) => {
	(window as any).handleOpenURL_LastURL = url;
};

@Component({
	templateUrl: 'app.html'
})
export class MyApp {
	@ViewChild('mainMenu') navCtrl: NavController;
	rootPage: any = Home;
	trails: TrailSet[] = [];

	constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen, preferences: AppPreferences, translate: TranslateService, public webIntent: WebIntent, public storage: TrailStorageProvider, public ngZone: NgZone) {
		platform.ready().then(() => {
			// Okay, so the platform is ready and our plugins are available.
			// Here you can do any higher level native things you might need.
			if(platform.is('android')) {
				this.webIntent.getIntent().then((answer) => {
					if(answer != null && answer.data !== undefined){
						this.navCtrl.push('ImportPage', {source: answer.data});
					}
				}, (reason) => {
					console.log("File not imported: "+reason);
				});
			}
			if(platform.is('ios')){
				(window as any).handleOpenURL = (url: string) => {
					// this context is called outside of angular zone!
					setTimeout(() => {
						// so we need to get back into the zone..
						this.ngZone.run(() => {
							// this is in the zone again..
							this.navCtrl.push('ImportPage', {source: url});
						});
					}, 0);
				};
			}
			/*let dummy = {"creationID":"1519585514006","isLandTrail":true,"isSharedTrail":false,"isTraining":true,"preSituation":"","situation":"Gesucht","temperature":"20","precipitation":"MAP_PRECIPITATION_2","risks":"","person":{"name":"Heinz","age":0,"glasses":false,"hair_choice":"Bald","hairColor_choice":"Brown","body_choice":"Slim","allergies":"Keine","illness":"Keine","medication":"Keine","image":"data:image/gif;base64,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"},"trails":[{"id":0,"startTime":"2018-02-25T18:36:56.618Z","endTime":"2018-02-25T18:58:34.018Z","distance":3117.3894251041625,"trainer":"Trainer","dog":"Hund","path":[{"lat":52.2775968,"lng":8.0299284},{"lat":52.2776083,"lng":8.0299853},{"lat":52.277658,"lng":8.0300863},{"lat":52.2776807,"lng":8.0301283},{"lat":52.2776697,"lng":8.0300035},{"lat":52.2776461,"lng":8.0299057},{"lat":52.2776166,"lng":8.0298155},{"lat":52.2776028,"lng":8.0296453},{"lat":52.2775372,"lng":8.0295725},{"lat":52.2774835,"lng":8.029352},{"lat":52.2774799,"lng":8.029403},{"lat":52.2775217,"lng":8.0292588},{"lat":52.2774893,"lng":8.0291902},{"lat":52.2774623,"lng":8.0291932},{"lat":52.2774642,"lng":8.0292014},{"lat":52.2774899,"lng":8.0287714},{"lat":52.2774899,"lng":8.0287714},{"lat":52.2774819,"lng":8.0287719},{"lat":52.2774783,"lng":8.0287137},{"lat":52.2773629,"lng":8.0273025},{"lat":52.277274,"lng":8.0271934},{"lat":52.2774192,"lng":8.0269661},{"lat":52.2774929,"lng":8.0268277},{"lat":52.2775651,"lng":8.0267583},{"lat":52.2775564,"lng":8.0266892},{"lat":52.2776643,"lng":8.0266642},{"lat":52.2776495,"lng":8.0266194},{"lat":52.277639,"lng":8.0265941},{"lat":52.277549,"lng":8.0265747},{"lat":52.2775458,"lng":8.02652},{"lat":52.2775454,"lng":8.0265163},{"lat":52.277578,"lng":8.0264438},{"lat":52.2776397,"lng":8.0261056},{"lat":52.2776751,"lng":8.0257916},{"lat":52.2777539,"lng":8.0256406},{"lat":52.2777501,"lng":8.0255784},{"lat":52.2777495,"lng":8.0255522},{"lat":52.2777368,"lng":8.0255407},{"lat":52.2777459,"lng":8.0255081},{"lat":52.2776901,"lng":8.0254217},{"lat":52.2775378,"lng":8.0252918},{"lat":52.277546,"lng":8.0251748},{"lat":52.2775661,"lng":8.0250512},{"lat":52.2776049,"lng":8.0249539},{"lat":52.2776145,"lng":8.0249043},{"lat":52.2776771,"lng":8.0248076},{"lat":52.2777021,"lng":8.0244353},{"lat":52.2776887,"lng":8.0243833},{"lat":52.277672,"lng":8.0240989},{"lat":52.277663,"lng":8.0240129},{"lat":52.2776934,"lng":8.0238715},{"lat":52.2777051,"lng":8.0236028},{"lat":52.27773,"lng":8.0234821},{"lat":52.2777256,"lng":8.0234147},{"lat":52.2777968,"lng":8.0232468},{"lat":52.2779207,"lng":8.0233133},{"lat":52.2780296,"lng":8.0231665},{"lat":52.2780933,"lng":8.0231012},{"lat":52.2784428,"lng":8.0227415},{"lat":52.2785467,"lng":8.0229363},{"lat":52.2785551,"lng":8.0227305},{"lat":52.2785947,"lng":8.0227627},{"lat":52.278548,"lng":8.0227286},{"lat":52.2785978,"lng":8.0227259},{"lat":52.2785871,"lng":8.02275},{"lat":52.2786232,"lng":8.0227218},{"lat":52.2786763,"lng":8.0227786},{"lat":52.2786673,"lng":8.0227612},{"lat":52.2787425,"lng":8.0227813},{"lat":52.2789351,"lng":8.022915},{"lat":52.278902,"lng":8.0229629},{"lat":52.2790656,"lng":8.0230944},{"lat":52.2790699,"lng":8.0230971},{"lat":52.2791853,"lng":8.0229755},{"lat":52.2792749,"lng":8.0230359},{"lat":52.279499,"lng":8.0228961},{"lat":52.2795366,"lng":8.022856},{"lat":52.2796164,"lng":8.0228495},{"lat":52.279595,"lng":8.0228407},{"lat":52.2795762,"lng":8.022833},{"lat":52.2795948,"lng":8.0228916},{"lat":52.2796008,"lng":8.0228799},{"lat":52.2795709,"lng":8.022977},{"lat":52.2795421,"lng":8.0230709},{"lat":52.2795103,"lng":8.0231743},{"lat":52.279477,"lng":8.0232825},{"lat":52.2794437,"lng":8.0233906},{"lat":52.2794949,"lng":8.0234272},{"lat":52.2795358,"lng":8.0234564},{"lat":52.2795704,"lng":8.0234812},{"lat":52.2796334,"lng":8.0235263},{"lat":52.2806846,"lng":8.0251802},{"lat":52.2810496,"lng":8.0257546},{"lat":52.2811962,"lng":8.0259853},{"lat":52.2812476,"lng":8.026066},{"lat":52.2805633,"lng":8.0253417},{"lat":52.2803249,"lng":8.0250893},{"lat":52.2802288,"lng":8.0249875},{"lat":52.2801937,"lng":8.0249504},{"lat":52.2801815,"lng":8.0249375},{"lat":52.2801772,"lng":8.0249329},{"lat":52.2817393,"lng":8.023203},{"lat":52.2820984,"lng":8.0228053},{"lat":52.2822114,"lng":8.0226802},{"lat":52.2822439,"lng":8.0226442},{"lat":52.2822542,"lng":8.0226328},{"lat":52.2822562,"lng":8.0226306},{"lat":52.2823802,"lng":8.0222336},{"lat":52.2825567,"lng":8.0222944},{"lat":52.2825713,"lng":8.0222414},{"lat":52.2825093,"lng":8.0222858},{"lat":52.282499,"lng":8.0222971},{"lat":52.2825501,"lng":8.0225512},{"lat":52.2826153,"lng":8.0226802},{"lat":52.2826437,"lng":8.0231392},{"lat":52.2827099,"lng":8.0234307},{"lat":52.2827095,"lng":8.0234012},{"lat":52.2826909,"lng":8.0234223},{"lat":52.2827925,"lng":8.0234889},{"lat":52.2828347,"lng":8.023462},{"lat":52.2829243,"lng":8.0236069},{"lat":52.2830027,"lng":8.0237583},{"lat":52.283036,"lng":8.0237573},{"lat":52.2830727,"lng":8.0237657},{"lat":52.2832016,"lng":8.0236672},{"lat":52.2833058,"lng":8.0236197},{"lat":52.283482,"lng":8.0235442},{"lat":52.2835468,"lng":8.0236063},{"lat":52.2836624,"lng":8.0236418},{"lat":52.2836694,"lng":8.0236546},{"lat":52.2838106,"lng":8.023628},{"lat":52.2839276,"lng":8.0236995},{"lat":52.2840464,"lng":8.0238797},{"lat":52.2841827,"lng":8.0239228},{"lat":52.2842405,"lng":8.0242102},{"lat":52.2843272,"lng":8.0242487},{"lat":52.2842145,"lng":8.0237512},{"lat":52.2842451,"lng":8.0237204},{"lat":52.2843451,"lng":8.0239515},{"lat":52.2844455,"lng":8.0240062},{"lat":52.2844635,"lng":8.0245081},{"lat":52.28441,"lng":8.0247682},{"lat":52.2845922,"lng":8.0242694},{"lat":52.2845329,"lng":8.0239779},{"lat":52.2846124,"lng":8.0237227},{"lat":52.2846788,"lng":8.0234866},{"lat":52.2848931,"lng":8.0223682},{"lat":52.2848046,"lng":8.0225796},{"lat":52.2847733,"lng":8.0223982},{"lat":52.284876,"lng":8.0222717},{"lat":52.2848545,"lng":8.0223376},{"lat":52.2848463,"lng":8.0222122},{"lat":52.2848276,"lng":8.02211},{"lat":52.2847546,"lng":8.0219289},{"lat":52.2847394,"lng":8.0218063},{"lat":52.2847309,"lng":8.0216558},{"lat":52.2847436,"lng":8.0216036},{"lat":52.2849108,"lng":8.0215245},{"lat":52.285042,"lng":8.0214009},{"lat":52.2851426,"lng":8.0213398},{"lat":52.2851789,"lng":8.021315},{"lat":52.2852439,"lng":8.0213026},{"lat":52.2854611,"lng":8.0211724},{"lat":52.285497,"lng":8.0211357},{"lat":52.285552,"lng":8.0211236},{"lat":52.2855718,"lng":8.0210847},{"lat":52.2855503,"lng":8.0210665},{"lat":52.2855765,"lng":8.021113},{"lat":52.2857006,"lng":8.0211782},{"lat":52.2857707,"lng":8.0211806},{"lat":52.2859539,"lng":8.0212084},{"lat":52.2859679,"lng":8.0212355},{"lat":52.2863606,"lng":8.0211944},{"lat":52.2865578,"lng":8.0210821},{"lat":52.2866063,"lng":8.021113},{"lat":52.2866696,"lng":8.0211309},{"lat":52.2866989,"lng":8.0211263},{"lat":52.2867775,"lng":8.0210374},{"lat":52.2867824,"lng":8.0210682},{"lat":52.2867809,"lng":8.0210919},{"lat":52.2868562,"lng":8.0210484},{"lat":52.2868121,"lng":8.0209733},{"lat":52.2868063,"lng":8.020937},{"lat":52.2868784,"lng":8.0209079},{"lat":52.2869576,"lng":8.020821},{"lat":52.2871158,"lng":8.0206899},{"lat":52.2871428,"lng":8.0206337},{"lat":52.2871769,"lng":8.0205952},{"lat":52.2872116,"lng":8.0205297},{"lat":52.2872697,"lng":8.0205363},{"lat":52.2873,"lng":8.0205568},{"lat":52.287402,"lng":8.0205841},{"lat":52.2874511,"lng":8.0205764},{"lat":52.2875205,"lng":8.0206016},{"lat":52.2875886,"lng":8.0206211},{"lat":52.2876285,"lng":8.0206301},{"lat":52.287677,"lng":8.0206432},{"lat":52.2877045,"lng":8.0206369},{"lat":52.2878197,"lng":8.0206109},{"lat":52.2879255,"lng":8.0206315},{"lat":52.2880722,"lng":8.0205945},{"lat":52.2882378,"lng":8.0207511},{"lat":52.2882549,"lng":8.0207116},{"lat":52.2882875,"lng":8.0207393},{"lat":52.2884265,"lng":8.0206897},{"lat":52.2884998,"lng":8.0207578},{"lat":52.2885729,"lng":8.0208106},{"lat":52.2885897,"lng":8.0208327},{"lat":52.2886657,"lng":8.0208682},{"lat":52.2886746,"lng":8.0208853},{"lat":52.2888559,"lng":8.0209067},{"lat":52.2888839,"lng":8.0209044},{"lat":52.2889396,"lng":8.0208578},{"lat":52.2891581,"lng":8.020942},{"lat":52.2891718,"lng":8.02096},{"lat":52.289135,"lng":8.0209363},{"lat":52.2893398,"lng":8.0209976},{"lat":52.2893997,"lng":8.0210349},{"lat":52.2894932,"lng":8.0209523},{"lat":52.2896303,"lng":8.0209784},{"lat":52.2896992,"lng":8.0210051},{"lat":52.2897528,"lng":8.0210757},{"lat":52.2897746,"lng":8.0210658},{"lat":52.2897983,"lng":8.0210646},{"lat":52.2898166,"lng":8.0210612},{"lat":52.289822,"lng":8.021044},{"lat":52.2898291,"lng":8.0210635},{"lat":52.2898289,"lng":8.0210901},{"lat":52.2898275,"lng":8.0210891},{"lat":52.2898287,"lng":8.0210707},{"lat":52.2898256,"lng":8.0210801},{"lat":52.2898209,"lng":8.0210702},{"lat":52.2898418,"lng":8.0211138},{"lat":52.2898028,"lng":8.0210549},{"lat":52.2898339,"lng":8.0210604},{"lat":52.2898488,"lng":8.0211382},{"lat":52.2898479,"lng":8.0211798},{"lat":52.2898131,"lng":8.0211431},{"lat":52.2898104,"lng":8.0211268},{"lat":52.2898138,"lng":8.0211356},{"lat":52.2899092,"lng":8.0212662},{"lat":52.2899242,"lng":8.0213131},{"lat":52.2901875,"lng":8.0215615},{"lat":52.2902249,"lng":8.0216072},{"lat":52.2902252,"lng":8.021599},{"lat":52.2902254,"lng":8.021635},{"lat":52.2902199,"lng":8.0216177},{"lat":52.2902438,"lng":8.02154},{"lat":52.2902583,"lng":8.0215263},{"lat":52.290259,"lng":8.0214016},{"lat":52.2903049,"lng":8.0214122}],"marker":[{"id":0,"position":{"lat":52.2830727,"lng":8.0237657},"symbolID":1},{"id":1,"position":{"lat":52.2846124,"lng":8.0237227},"symbolID":1}],"circles":[],"triangles":[]}]};
			this.storage.addNewTrailSet(TrailSet.fromData(<any>dummy)).then((message) => {
				console.log("Geklappt");
			});*/

			translate.setDefaultLang('en');
			if(platform.is('cordova')){
				preferences.fetch('language').then((answer) => {
					translate.use(answer);
				});
			}
			this.storage.getLatestTrailSets(5).subscribe((value:TrailSet) => {
				this.trails.push(value);
			});
			statusBar.styleDefault();
			splashScreen.hide();
		});
	}

	openPage(name){
		if(name == 'HomePage'){
			this.navCtrl.popToRoot();
		} else {
			this.navCtrl.push(name);
		}
	}

	openEntry(trailSet: TrailSet){
		this.navCtrl.push('HistoryEntryPage', {trailObject: trailSet});
	}
}
